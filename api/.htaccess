# Disable directory browsing
Options -Indexes

# Handle Front Controller pattern
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule>

# Deny access to sensitive files
<FilesMatch "^(\.htaccess|\.gitignore|composer\.json|composer\.lock|phpunit\.xml|phpcs\.xml|phpmd\.xml)$">
    Order Allow,Deny
    Deny from all
</FilesMatch>

# PHP settings
<IfModule mod_php7.c>
    # Error handling
    php_flag display_errors Off
    php_flag log_errors On
    
    # Security settings
    php_flag register_globals Off
    php_flag magic_quotes_gpc Off
    php_flag allow_url_fopen Off
    php_flag allow_url_include Off
    
    # Performance settings
    php_value max_execution_time 60
    php_value memory_limit 128M
    php_value post_max_size 8M
    php_value upload_max_filesize 8M
</IfModule>